<app-header></app-header>
<div class="row m-0 p-0">
    <section class="col-md-2 col-lg-2 m-0 p-0">
        <side-bar></side-bar>
    </section>
    <section class="col-md-10 col-lg-10 patients-container">
        <div class="container mt-4">
            <app-search (emitAction)="filter($event)"></app-search>
        </div>
        <div class="container mt-4">
            <app-button type="button" icono="fa fa-plus" clasesBtn="btn-primary btn-sm mx-2"
                (click)="showModal({'modal':editModal,'isNew':true,'isEdit':false,'isDetail':false})" texto="btn.New">
            </app-button>
            <app-button type="button" icono="fa fa-pencil" clasesBtn="btn-primary btn-sm mx-2"
                (click)="showModal({'modal':editModal,'isEdit':true,'isDetail':false,'isNew':false})" texto="btn.Edit"
                [soloLectura]="elementoSeleccionado==null">
            </app-button>
            <app-button type="button"
                *ngIf="elementoSeleccionado==null || (elementoSeleccionado!=null && elementoSeleccionado.deleted!=true)"
                clasesBtn="btn-danger btn-sm mx-2" icono="fa fa-window-close" texto="btn.Delete"
                (click)="showModal({'modal':editModal});" [soloLectura]="elementoSeleccionado==null"></app-button>
        </div>
        <div class="container mt-4">
            <app-table [columnsHeader]="COLUMNS_HEADER" [columnsData]="prepareTableData()"
                (selectedItem)="onSelectedItem($event)">
            </app-table>
        </div>
    </section>
</div>





<ng-template #editModal let-modal>
    <div role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <!-- <span *ngIf="isEditModal">{{"Modify" | translate}} {{"Medic" | translate}}</span>
                    <span *ngIf="isNewModal">{{"Create" | translate}} {{"Medic" | translate}}</span>
                    <span *ngIf="isDetailModal">{{"Detail" | translate}} {{"Medic" | translate}}</span> -->
                    <span>Modal {{"Medic" | translate}}</span>
                </h4>
                <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form [formGroup]="modalForm" novalidate>
                <div class="modal-body">
                    <div class="row"></div>
                    <div class="form-group">
                        <app-input id="name" name="name" formControlName="name" placeholder="Nombre"></app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="surname" name="surname" formControlName="surname" placeholder="Apellidos">
                        </app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="phone" name="phone" formControlName="phone" placeholder="Teléfono"></app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="dni" name="dni" formControlName="dni" placeholder="DNI"></app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="collegeNumber" name="collegeNumber" formControlName="collegeNumber"
                            placeholder="Número colegiado"></app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="username" name="username" formControlName="username" placeholder="Usuario">
                        </app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="password" name="password" formControlName="password" placeholder="Contraseña">
                        </app-input>
                    </div>
                    <div class="form-group">
                        <app-input id="email" name="email" formControlName="email" placeholder="Email"></app-input>
                    </div>
                </div>
                <div class="modal-footer">
                    <app-button type="button" clasesBtn="btn-secondary" texto="btn.Cancel"
                        (click)="modal.close(modalForm)">
                    </app-button>
                    <app-button type="submit" clasesBtn="btn-info" texto="btn.Save" (click)="modal.close(modalForm)">
                    </app-button>
                </div>
            </form>
        </div>
    </div>
</ng-template>