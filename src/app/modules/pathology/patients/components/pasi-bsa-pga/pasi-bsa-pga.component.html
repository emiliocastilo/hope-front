<div>
    <app-patient-header></app-patient-header>
    <form [formGroup]="pasiForm">
        <div class="eval-date">
            <div class="title">
                {{ 'evaluationDate' | translate }}
                <hr class="separator" />
            </div>
            <div class="custom-select">
                <label class="label"> {{ 'evaluationDate' | translate }}</label>
                <input type="date" class="custom-date" [max]="today" formControlName="evaluationDate" />
            </div>
        </div>

        <div class="pasi">
            <div class="container-flex">
                <div class="svg">
                    <svg version="1.1" id="Cuerpo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 285.6 456.2" style="enable-background: new 0 0 285.6 456.2" xml:space="preserve">
                        <style type="text/css">
                            .st0 {
                                fill: url(#sombra_1_);
                            }
                            .st1 {
                                fill: #ffffff;
                                stroke: #cce0f2;
                                stroke-linejoin: round;
                                stroke-miterlimit: 10;
                            }
                        </style>
                        <radialGradient id="sombra_1_" cx="142.5439" cy="411.3806" r="69.8385" gradientTransform="matrix(1.8127 0 0 0.4857 -115.5669 207.5636)" gradientUnits="userSpaceOnUse">
                            <stop offset="0.264" style="stop-color: #cce0f2; stop-opacity: 0.3" />
                            <stop offset="0.9333" style="stop-color: #cce0f2; stop-opacity: 0" />
                        </radialGradient>
                        <ellipse id="sombra" class="st0" cx="142.8" cy="407.4" rx="135.8" ry="43.8" />
                        <path
                            id="esup"
                            class="st1"
                            [ngClass]="{ 'checked-color': esup }"
                            (click)="isChecked(!esup, 'esup')"
                            d="M106.3,108.8c-1.3-0.5-6.2,3.6-11,8.9c-7,7.8-16.3,16.5-17.5,18c-0.9,1.2-7,11.3-11.4,15.6
	s-28.5,25-32.3,29.5c-1,1.2-2.1,6.2-3,8.7c-0.7,1.8-3,4.9-5,6.7c-2.1,1.8-4.8,2.4-4.8,2.4c-8.1,5.3-6.5,10.6-12.3,9.4
	c-1.6-0.3-0.4-5.8-0.2-6.8c0.3-1.1,2-5.1,2.2-5.6c0.4-0.9,2.2-7.5,6.3-13c0.9-1.2,6.9-6.4,8.7-8.4s5.5-7.7,18-22.6
	c12.5-14.9,10.9-11.6,21.1-26c10.2-14.4,21.7-29.3,24.3-32.8c5.4-7.2,9.8-9.9,19.3-12.7c0,0,3.8,7,3.8,16.4S106.3,108.8,106.3,108.8
	z M179.4,108.8c1.3-0.5,6.2,3.6,11,8.9c7,7.8,16.3,16.5,17.5,18c0.9,1.2,7,11.3,11.4,15.6s28.5,25,32.3,29.5c1,1.2,2.1,6.2,3,8.7
	c0.7,1.8,3,4.9,5,6.7c2.1,1.8,4.8,2.4,4.8,2.4c8.1,5.3,6.5,10.6,12.3,9.4c1.6-0.3,0.4-5.8,0.2-6.8c-0.3-1.1-2-5.1-2.2-5.6
	c-0.4-0.9-2.2-7.5-6.3-13c-0.9-1.2-6.9-6.4-8.7-8.4s-5.5-7.7-18-22.6c-12.5-14.9-10.9-11.6-21.1-26c-10.2-14.4-21.7-29.3-24.3-32.8
	c-5.4-7.2-9.8-9.9-19.3-12.7c0,0-3.8,7-3.8,16.4S179.4,108.8,179.4,108.8z"
                        />
                        <path
                            id="einf"
                            class="st1"
                            [ngClass]="{ 'checked-color': einf }"
                            (click)="isChecked(!einf, 'einf')"
                            d="M141.6,227.6c0,0-3.1,27.6-3.5,29.5c-0.9,4.9-1.6,17.2-2.4,28.6c-0.8,11.3-3.1,17.4-3.7,20.9
	c-0.6,3.5,2.4,22,1.4,28.9s-6.2,29.1-6.9,32.6c-0.7,3.5,0.3,17,0.4,18.1c0.5,6.3,3.9,7.8,3.4,12.7c-0.2,2-1.9,3.6-2.8,4.2
	c-2.9,1.8-12.1,8.2-16,12.3c-3.2,3.3-5.8,4.3-8.2,3.8c-12.4-2.5-7.7-7.6-6.1-8.9c3.4-2.8,6.2-5.8,7.4-7.6
	c4.3-6.2,9.6-11.5,10.5-13.6c1.5-3.3-5.1-39.3-5.7-49.5c-0.5-10.2,2.3-29.9,3.4-33.4c1-3.6,0.3-20-0.4-24
	c-0.8-4.7-5.8-29.1-5.8-51.2c0-2.7,0.1-5.3,0.2-7.9c0-0.9,0.1-1.9,0.1-2.8 M144,227.6c0,0,3.1,27.6,3.5,29.5
	c0.9,4.9,1.6,17.2,2.4,28.6c0.8,11.3,3.1,17.4,3.7,20.9c0.6,3.5-2.4,22-1.4,28.9s6.2,29.1,6.9,32.6c0.7,3.5-0.3,17-0.4,18.1
	c-0.5,6.3-3.9,7.8-3.4,12.7c0.2,2,1.9,3.6,2.8,4.2c2.9,1.8,12.1,8.2,16,12.3c3.2,3.3,5.8,4.3,8.2,3.8c12.4-2.5,7.7-7.6,6.1-8.9
	c-3.4-2.8-6.2-5.8-7.4-7.6c-4.3-6.2-9.6-11.5-10.5-13.6c-1.5-3.3,5.1-39.3,5.7-49.5c0.5-10.2-2.3-29.9-3.4-33.4
	c-1-3.6-0.3-20,0.4-24c0.8-4.7,5.8-29.1,5.8-51.2c0-2.7-0.1-5.3-0.2-7.9c0-0.9-0.1-1.9-0.1-2.8"
                        />
                        <path
                            id="cabeza"
                            class="st1"
                            [ngClass]="{ 'checked-color': cabeza }"
                            (click)="isChecked(!cabeza, 'cabeza')"
                            d="M156.8,72.7c-0.7-0.6-1.4-1.2-2.1-2c-3.1-3.1-3.3-10.1-2.4-10.9c3.1-2.9,5.2-8.9,6.5-12.9
	c0.4-1.2,0.7-2.3,0.9-3.5c1.1-1.2,2.3-3.6,2.6-5.6c0.5-2.9-0.1-5.5-1.3-5.7c-0.2,0-0.5,0-0.7,0.1c0-0.5,0-1,0-1.5
	c0-6.4-3-15.1-10.8-18.5c-1.7-0.7-4.5-1.4-6.7-1.4s-5,0.6-6.7,1.4c-7.8,3.4-10.8,12.1-10.8,18.5c0,0.5,0,1,0,1.5
	c-0.2-0.1-0.4-0.1-0.6-0.1c-1.2,0.2-1.8,2.7-1.3,5.7c0.3,1.9,1.4,4.2,2.5,5.5c0.2,1.3,0.5,2.4,1,3.7c1.3,3.9,3.5,10,6.5,12.9
	c0.8,0.8,0.7,7.8-2.4,10.9c-0.7,0.7-1.5,1.4-2.1,2c4.1,3.6,8.9,5.7,14,5.7C147.9,78.4,152.7,76.3,156.8,72.7z"
                        />
                        <path
                            id="tronco"
                            class="st1"
                            [ngClass]="{ 'checked-color': tronco }"
                            (click)="isChecked(!tronco, 'tronco')"
                            d="M173.1,96.5c0-9.4,3.8-16.4,3.8-16.4c-10-3-14.1-2.2-20.1-7.3c-4.1,3.6-8.9,5.7-14,5.7
	c-5.1,0-9.9-2.1-14-5.7c-6,5.1-10,4.4-20.1,7.3c0,0,3.8,7,3.8,16.4c0,9.4-6.2,12.3-6.2,12.3c1.3,0.5,5.7,15.9,6.4,20.1
	c1.2,6.2,6.3,23.5,4.3,36.5c-1.8,11.5-8.4,29.3-9.9,54.8l34.5,7.4h1.2h1.2l34.5-7.4c-1.5-25.5-8.1-43.3-9.9-54.8
	c-2-13,3.1-30.3,4.3-36.5c0.8-4.2,5.2-19.6,6.4-20.1C179.4,108.8,173.1,105.9,173.1,96.5z"
                        />
                    </svg>
                </div>
                <div class="boxes">
                    <div class="box-pasi">
                        <app-pasi-checkbox label="headNeck" [defaultChecked]="cabeza" (checked)="isChecked($event, 'cabeza')"></app-pasi-checkbox>
                        <app-pasi-select [group]="'cabeza'" [area]="area" [eritema]="eritema" [escamas]="escamas" [infiltracion]="infiltracion" [form]="pasiForm" (score)="getScore($event)"></app-pasi-select>
                    </div>
                    <div class="box-pasi">
                        <app-pasi-checkbox label="superiorExtremities" [defaultChecked]="esup" (checked)="isChecked($event, 'esup')"></app-pasi-checkbox>
                        <app-pasi-select [group]="'esup'" [area]="area" [eritema]="eritema" [escamas]="escamas" [infiltracion]="infiltracion" [form]="pasiForm" (score)="getScore($event)"></app-pasi-select>
                    </div>
                    <div class="box-pasi">
                        <app-pasi-checkbox label="body" [defaultChecked]="tronco" (checked)="isChecked($event, 'tronco')"></app-pasi-checkbox>
                        <app-pasi-select [group]="'tronco'" [area]="area" [eritema]="eritema" [escamas]="escamas" [infiltracion]="infiltracion" [form]="pasiForm" (score)="getScore($event)"></app-pasi-select>
                    </div>
                    <div class="box-pasi">
                        <app-pasi-checkbox label="lowerExtremities" [defaultChecked]="einf" (checked)="isChecked($event, 'einf')"></app-pasi-checkbox>
                        <app-pasi-select [group]="'einf'" [area]="area" [eritema]="eritema" [escamas]="escamas" [infiltracion]="infiltracion" [form]="pasiForm" (score)="getScore($event)"></app-pasi-select>
                    </div>
                </div>
            </div>

            <div class="container-flex">
                <div class="box-data">
                    <span class="box-title">{{ 'PASI SCORE' | uppercase }}</span>
                    <div class="box-data-info">
                        <input type="number" readonly formControlName="pasi" />
                        /72
                    </div>
                </div>
                <div class="box-data">
                    <span class="box-title"> {{ 'calificationPasi' | translate | uppercase }}</span>
                    <div class="box-data-info">
                        {{ pasiCalification ? (pasiCalification | translate) : '-' }}
                    </div>
                </div>
            </div>
        </div>

        <div class="double-title">
            <div class="bsa">
                <div class="container-flex">
                    <div class="box-data">
                        <span class="box-title">
                            {{ 'bsa score' | uppercase }}
                        </span>
                        <div class="box-data-info">
                            <input type="number" readonly formControlName="bsa" />
                            %
                        </div>
                    </div>
                    <div class="box-data">
                        <span class="box-title"> {{ 'calificationBsa' | translate | uppercase }}</span>
                        <div class="box-data-info">
                            {{ bsaCalification ? (bsaCalification | translate) : '-' }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="pga">
                <div class="container-flex">
                    <div class="custom-select">
                        <label class="label">PGA</label>
                        <select name="pga" id="pga" formControlName="pga" (change)="onSelectPGA($event)">
                            <option *ngFor="let option of [1, 2, 3, 4, 5, 6]" [ngValue]="option">
                                {{ option | translate }}
                            </option>
                        </select>
                    </div>
                    <div class="box-data">
                        <span class="box-title"> {{ 'calificationPga' | translate | uppercase }}</span>
                        <div class="box-data-info">
                            {{ pgaCalification ? (pgaCalification | translate) : '-' }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="buttons">
            <app-button type="button" icono="check-circle" clasesBtn="btn-primary btn-sm mx-2" texto="btn.save" [readOnly]="!valid" (click)="onSave()" [disabledButton]="pasiForm.invalid"></app-button>
            <app-button type="button" icono="bar-chart-2" clasesBtn="btn-primary btn-sm mx-2" texto="btn.graphs" (click)="showGraph()"></app-button>
            <app-button type="button" clasesBtn="btn-danger btn-sm mx-2" icono="x" texto="btn.clean" (click)="onClear()"></app-button>
        </div>
    </form>
</div>
