<div class="accordion" [id]="name">
    <div class="card" *ngFor="let panel of panels; let i = index">
        <div class="card-header" id="heading{{ i }}">
            <h2 class="mb-0">
                <button
                    class="btn btn-block text-left collapsed d-flex justify-content-between"
                    type="button"
                    (click)="setCurrentPanel(i)"
                    data-toggle="collapse"
                    [attr.data-target]="'#collapse' + i"
                    aria-expanded="false"
                    [attr.aria-controls]="'#collapse' + i"
                >
                    {{ panel.header | translate }}
                    <span>
                        <i-feather [hidden]="currentPanel !== i" name="chevron-up"></i-feather>
                        <i-feather [hidden]="currentPanel === i" name="chevron-down"></i-feather>
                    </span>
                </button>
            </h2>
        </div>
        <div [id]="'collapse' + i" class="collapse" [attr.aria-labelledby]="'heading' + i" [attr.data-parent]="'#' + name">
            <div class="card-body">
                <dynamic-form [config]="panel.config" isAccordion="true"></dynamic-form>
            </div>
        </div>
    </div>
</div>
